[package]
name = "starcoin-transaction-benchmarks"
authors = { workspace = true }
edition = { workspace = true }
license = { workspace = true }
publish = { workspace = true }
version = "1.13.7"
homepage = { workspace = true }
repository = { workspace = true }
rust-version = { workspace = true }

[dependencies]
num_cpus = { workspace = true }
starcoin-crypto = { package = "starcoin-crypto", workspace = true }
starcoin-types = { workspace = true }
starcoin-vm-runtime = { workspace = true }
starcoin-vm-types = { workspace = true }
criterion = { workspace = true, optional = true, features = ["html_reports"] }
proptest = { workspace = true, optional = true }
proptest-derive = { workspace = true, optional = true }
pprof = { version = "0.10", optional = true, features = ["flamegraph", "criterion"] }
log = { workspace = true }
criterion-cpu-time = "0.1.0"
starcoin-language-e2e-tests = { path = "../e2e-tests" }

[dev-dependencies]
criterion = { workspace = true, features = ["html_reports"] }
proptest = { workspace = true }
proptest-derive = { workspace = true }
pprof = { version = "0.10", features = ["flamegraph", "criterion"] }

[[bench]]
name = "transaction_benches"
harness = false
required-features = ["fuzzing"]

[features]
fuzzing = [
    "criterion",
    "proptest",
    "proptest-derive",
    "pprof"
]
flamegraph = []
html_reports = []

