---
id: keyconcepts
title: 关键概念
---

本文介绍 Starcoin 中的关键概念。
<!--more-->

### 账户，地址、认证密钥和加密密钥。
* 账号：账户代表了 Starcoin 上的一个可以发送交易的资源。一个账户是一组 Move 资源的集合。其由16字节的地址唯一标识。
* 认证密钥：每个账户都会存储了一个认证密钥, 用于认证交易的签名。
* 地址：一个账户的地址来自于它的**初始认证密钥**。Starcoin 支持在不改变其地址的情况下修改账户的认证密钥。

### 生成认证密钥和加密密钥

* 生成一个新的密钥对 (pubkey_A, privkey_A). starcoin 密钥使用 Ed25519 curve 及 PureEdDSA scheme 生成，见 RFC 8032
* 生成认证密钥 auth_key = sha3-256(pubkey | 0x00)，其中 | 为连接。0x00是一个 1bytes 的标识符，表示单签。
* 生成帐户地址 account_address = auth_key[-16:] 即 auth_key 的后16字节。
* 任何创建账号的交易，都同时需要 account address 以及 auth key.
但与现有账户交互的交易，则只需要地址。

因此，对比, Ethereum/Bitcoin, Starcoin 地址不仅更短，为 16 bytes,
同时，在不改变地址的情况下，还支持用户修改密钥对。更加灵活和安全。

一个rotate key 的[例子](https://github.com/starcoinorg/starcoin-sdk-python/blob/master/examples/rotate_auth_key.py)

## 交易, 区块和状态

Starcoin协议有三个核心基本概念——交易、区块和状态。在任何时候，区块链都会处在一个 "状态"下。状态代表了链上数据的当前快照。执行交易就会改变区块链的状态。其中一个区块可能包含很多交易，因此当很多的区块按一定的顺序执行以后，可以得到一个确定的最终状态。

### 交易

Starcoin区块链的用户通过客户端提交签名后的交易，更新链上的账本状态。签名交易主要包括以下内容：

- **发送地址** —— 交易发送者的账户地址
- **发送公钥** —— 由发送者签署交易的私钥生成的公钥
- **程序** —— 程序可能包含以下部分：
  - Move脚本的字节码
  - 输入参数。对于点对点交易，输入包括接收者的信息和金额
  - 要发布的Move模块的字节码
- **序列号** —— 一个无符号整数，必须等于发送者账户下存储的序列号
- **过期时间** —— 交易失效的时间
- **签名** —— 发送者的数字签名

### 区块
一个区块包含了一批有序的前面提到的交易，和一些其他的关键数据：
- **父区块哈希** —— 通过引用父区块哈希的方式，把所有区块链起来
- **区块高度** —— 在父区块的高度上递增
- **状态根哈希** —— 区块执行后的最终状态树的根哈希
- **交易累加器根哈希** —— 区块执行后的所有交易累加器的根哈希
- **区块累加器根哈希** —— 区块执行后的所有区块ID累加器的根哈希

### 状态

交易或区块执行的最终结果由状态表示。账本状态，即Starcoin区块链的全局状态，包含链上所有账户的状态。

## 证明

Starcoin区块链上的所有数据存储在一个分布式数据库中。证明被用来确定一个交易或区块是否包含在链中。

在区块链中，客户端可以不信任它所接收数据。客户端可以查询账户状态，查看特定的交易或特定的区块是否被处理，等等。与其他Merkle树一样，账本的历史记录可以针对特定交易或者区块提供一个O(log n)大小的证明，其中n是执行过的交易或者区块总数。

## 全节点

Starcoin区块链的客户端创建交易并提交给一个全节点。然后全节点根据一定的规则决定交易的执行顺序。一个全节点包含以下逻辑组件：

**交易池**

- 交易池是一个缓存区，用来存放 "等待"执行的交易
- 当一个新的交易被添加到一个节点的交易池，这个节点的交易会给其他节点同步这个交易

**共识**

- 共识组件负责对区块进行排序，并通过共识协议最终与网络中的其他所有节点达成一致

**链**

- 链维护系统的内部状态，为其他组件的正常运行提供上下文

**执行器**

- 执行器使用虚拟机（VM）来执行交易

**虚拟机(VM)**

- 交易池使用VM验证交易
- VM用于运行交易中包含的程序并计算出结果

**挖矿**

- 通过一定的算法计算出符合一定规则的哈希

**存储**

- 存储组件用于保存交易、区块和状态等数据
